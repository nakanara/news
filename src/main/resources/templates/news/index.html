<!DOCTYPE html>
<html lagn="ko" xmlns:th="http://www.thymeleaf.org">

<th:block th:replace="/common/header :: headFragment"></th:block>

<div class="container">

    <div class="row">
        <div class="col-md-12">

            <table class="table">
                <thead>
                    <th>제목</th>
                    <th>등록일</th>
                    <th>View</th>
                </thead>
                <tbody>
                <tr th:each="item: ${resultVo.data}" class="news-link">
                    <td>
                        <a th:href="@{/news/__${item.newsId}__}">
                            <span th:text="${item.title} == null? '<무제>': ${item.title}"></span>
                        </a>
                    </td>
                    <td>
                        <label th:text="${item.regDttm}" />
                    </td>
                    <td th:text="${item.viewCount}" />
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div>
        <div class="news-pagination">

            <a th:if="${ resultVo.curPage > 10 }" class="btn btn-success">이전</a>

            <th:block th:each="i : ${#numbers.sequence(1, 10)}">

                <label th:label="${(resultVo.curPage/10)}"></label>
                <a th:if="${((resultVo.totalPage % 10) >= i) && (resultVo.curPage % 10) == i}" class="active" th:href="@{/news?page=__${i}__}" th:text="${i}"></a>
                <a th:if="${((resultVo.totalPage % 10) >= i) && (resultVo.curPage % 10) != i}" class="" th:href="@{/news?page=__${i}__}" th:text="${i}"></a>

            </th:block>
            <!-- 현재 페이지보다 클 경우 -->
            <a th:if="${ (resultVo.curPage / 10) < (resultVo.totalPage/10) }" class="btn btn-success">다음</a>
        </div>
    </div>

    <div class="row">
        <div class="offset-md-12">
            <div class="btn btn-primary" id="btn-write">글쓰기</div>
        </div>
    </div>

    <script type="text/javascript">
        (function(){

            $('#btn-write').click(function(){
               location.href = '/news/write';
            });



        })();
    </script>
</div>


<th:block th:replace="/common/footer :: footerFragment"></th:block>
</html>